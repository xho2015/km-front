/*!
 The MIT License (MIT) Copyright (c) 2015 popAD, LLC dba Rocket Wagon Labs <lukel99@gmail.com>
 */
;(function(e){var a=5000;var d=function(h,k,j,i){this.x=h;this.y=k;this.size=j;this.color=i};d.prototype.mapXYToCanvasCoordinates=function(h,k){var j=Math.round((this.x/a)*h);var i=Math.round((this.y/a)*k);return{x:j,y:i}};var g={getRandomStar:function(){var h=Math.floor(Math.random()*(a+1));var l=Math.floor(Math.random()*(a+1));var j=this._getWeightedRandomSize();var i=this._getWeightedRandomColor();var k=this._applyRandomShade(i);return new d(h,l,j,this._getRGBColorString(k))},_getWeightedRandomSize:function(){var i=[1,1.5,2];var h=[0.8,0.15,0.05];return this._getWeightedRandom(i,h)},_getWeightedRandomColor:function(){var i=[{r:255,g:189,b:111},{r:255,g:221,b:180},{r:255,g:244,b:232},{r:251,g:248,b:255},{r:202,g:216,b:255},{r:170,g:191,b:255},{r:155,g:176,b:255}];var h=[0.05,0.05,0.05,0.7,0.05,0.05,0.05];return this._getWeightedRandom(i,h)},_getRandomShade:function(){var i=[0.4,0.6,1];var h=[0.5,0.3,0.2];return this._getWeightedRandom(i,h)},_applyRandomShade:function(i){var h=this._getRandomShade();if(h!==1){i.r=Math.floor(i.r*h);i.g=Math.floor(i.g*h);i.b=Math.floor(i.b*h)}return i},_getRGBColorString:function(h){return"rgb("+h.r+","+h.g+","+h.b+")"},_getWeightedRandom:function(o,n){var m=function(p,i){return Math.random()*(i-p)+p};var j=n.reduce(function(i,p){return i+p});var l=m(0,j);var h=0;for(var k=0;k<o.length;k++){h+=n[k];h=+h.toFixed(2);if(l<=h){return o[k]}}}};var b=[];var f=false;var c=function(j,k){var l=new Date().getTime();k=k||60;var i=1000/k;return(function h(n){requestAnimationFrame(h);var m=new Date().getTime();var o=m-l;if(o>i){l=m-(o%i);j()}}(0))};e.fn.starfield=function(w,l){var p=e.extend({framerate:8,speedX:4,starDensity:1,mouseScale:1,background:"#000000",seedMovement:true},w);$this=e(this);var k=$this.width();var v=$this.height();var h=k*v;var u=0.002*p.starDensity;var m=Math.floor(h*u);if(p.seedMovement){var r=p.speedX;var q=0}else{var r=0;var q=0}b=[];for(var s=0;s<m;s++){b.push(g.getRandomStar())}var o=function(){e.each(b,function(i,x){var z=x.x-r;var y=x.y-q;if(z<0){z+=a}if(y<0){y+=a}if(z>a){z-=a}if(y>a){y-=a}x.x=z;x.y=y})};var t=function(){var y=document.getElementById(l);var C=y.width;var i=y.height;y.setAttribute("width",C.toString());y.setAttribute("height",i.toString());if(y.getContext){var x=y.getContext("2d");x.clearRect(0,0,C,i);x.fillStyle=p.background;x.fillRect(0,0,C,i);var A=[];A.push(n(0,b.length));A.push(n(Math.floor(b.length/2),b.length));var z=0,D=0,B=0;e.each(b,function(E,G){var F=G.mapXYToCanvasCoordinates(C,i);D=(A.indexOf(z++)>0)?2:0;B=D>0?-1:0;x.fillStyle=G.color;x.fillRect(F.x+B,F.y+B,G.size+D,G.size+D)})}};function n(x,i){return Math.floor(Math.random()*(i-x+1))+x}function j(){o();t()}if(f==false){c(j,p.framerate);f=true}return this}}(jQuery));